\documentclass[a4paper,10pt]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}

\usepackage[dvipsnames]{xcolor}
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{pgfplots.groupplots}
\pgfplotsset{compat=1.16}
\usepackage{pgfplotstable}
\usetikzlibrary{pgfplots.colorbrewer}
\pgfplotsset{
        cycle from colormap manual style/.style={
           % x=3cm,y=10pt,ytick=\empty,
            %stack plots=y,
            every axis plot/.style={line width=1pt},
        }}

%\usepackage{lipsum}
\usetikzlibrary{external}
\tikzset{external/system call={pdflatex \tikzexternalcheckshellescape --extra-mem-top=10000000 --extra-mem-bot=10000000 -halt-on-error 
-interaction=batchmode -jobname "\image" "\texsource" && % or ;
pdftops -eps "\image".pdf }}
\tikzset{external/force remake}
\tikzexternalize[shell escape=-enable-write18]

\newcommand{\norm}[1]{\left\lVert #1\right\rVert}
%
%\pgfplotsset{select coords between index/.style 2 args={
%    x filter/.code={
%        \ifnum\coordindex<#1\def\pgfmathresult{}\fi
%        \ifnum\coordindex>#2\def\pgfmathresult{}\fi
%    }
%}}

\begin{document}%

\begin{tikzpicture}[scale=0.8]
\pgfplotstableread[col sep=space]{oversampling_err.csv}{\rat}
\begin{axis}[ 
cycle list/Dark2,
cycle from colormap manual style,
%ymode=log,
%width = 100mm,
xlabel={Number of samples, $m$},
ylabel={Relative error, $\norm{x_T-x}_2/\norm{x}_2$},
%y tick label style={ yshift = { \ifthenelse{\ticknum==0}{-0.5em}{0em}} }, %{yshift={ -0.5em}},
%xmin = -15,
%xmax = 90,
%ymin = 0.2,
%ymax=1.01,
mark size=1.0pt,
%legend style={at={(1.05,0.95)},anchor= north west ,font=\fontsize{8}{8}\selectfont},
legend style={at={(0.98,0.98)},anchor= north east ,font=\fontsize{8}{8}\selectfont},
legend cell align={left},
legend columns=1
]
\addplot table[x=m, y=ITEM]{\rat};
\addplot table[x=m, y=prox_grad]{\rat};
\addplot table[x=m, y=prox_newton]{\rat};
\addplot table[x=m, y=concomitant]{\rat};
\addplot table[x=m, y=irls_sqrt]{\rat};
\addplot table[x=m, y=irls_sigma]{\rat};
%\addplot[Green, thick,line width=1pt] table[x=noise, y=block]{\rat};
%\addplot[Green, dashed, mark = square*, mark size=2pt, thick,line width=1pt] table[x=noise, y=block_adapt]{\rat};
%\addplot[Orange,thick,line width=1pt] table[x=noise, y=log]{\rat};
%\addplot[Orange, dashed,thick, mark = square*, mark size=2pt , line width=1pt] table[x=noise, y=log_adapt]{\rat};
\legend{
ITEM,
Proximal Gradient,
Proximal Newton,
Concomitant LASSO,
IRLS(sqrt),
IRLS($\sigma$),
}
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}[scale=0.8]
\pgfplotstableread[col sep=space]{oversampling_time.csv}{\rat}
\begin{axis}[ 
cycle list/Dark2,
cycle from colormap manual style,
%width = 100mm,
xlabel={Number of samples, $m$},
ylabel={Runtime, s},
ymode=log,
%y tick label style={ yshift = { \ifthenelse{\ticknum==0}{-0.5em}{0em}} }, %{yshift={ -0.5em}},
%xmin = -15,
%xmax = 90,
%ymin = 0.2,
%ymax=1.01,
mark size=1.0pt,
%legend style={at={(1.05,0.95)},anchor= north west ,font=\fontsize{8}{8}\selectfont},
legend style={at={(0.98,0.98)},anchor= north east ,font=\fontsize{8}{8}\selectfont},
legend cell align={left},
legend columns=1
]
\addplot table[x=m, y=ITEM]{\rat};
\addplot table[x=m, y=prox_grad]{\rat};
\addplot table[x=m, y=prox_newton]{\rat};
\addplot table[x=m, y=concomitant]{\rat};
\addplot table[x=m, y=irls_sqrt]{\rat};
\addplot table[x=m, y=irls_sigma]{\rat};
%\addplot[Green, thick,line width=1pt] table[x=noise, y=block]{\rat};
%\addplot[Green, dashed, mark = square*, mark size=2pt, thick,line width=1pt] table[x=noise, y=block_adapt]{\rat};
%\addplot[Orange,thick,line width=1pt] table[x=noise, y=log]{\rat};
%\addplot[Orange, dashed,thick, mark = square*, mark size=2pt , line width=1pt] table[x=noise, y=log_adapt]{\rat};
\legend{
ITEM,
Proximal Gradient,
Proximal Newton,
Concomitant LASSO,
IRLS(sqrt),
IRLS($\sigma$),
}
\end{axis}
\end{tikzpicture}

%\pgfplotsset{compat=1.5}
\begin{tikzpicture}[scale=0.8]
\pgfplotstableread[col sep=space]{oversampling_ratio.csv}{\rat}
\begin{axis}[ 
cycle list/Dark2,
cycle from colormap manual style,
%width = 100mm,
xlabel={Number of samples, $m$},
ylabel={Support recovery failure ratio ($s$)},
%y tick label style={ yshift = { \ifthenelse{\ticknum==0}{-0.5em}{0em}} }, %{yshift={ -0.5em}},
%xmin = -15,
%xmax = 90,
ymin = 0.0,
ymax=0.7,
mark size=1.0pt,
%legend style={at={(1.05,0.95)},anchor= north west ,font=\fontsize{8}{8}\selectfont},
legend style={at={(0.98,0.98)},anchor= north east ,font=\fontsize{8}{8}\selectfont},
legend cell align={left},
legend columns=1
]
\addplot table[x=m, y=ITEM]{\rat};
\addplot table[x=m, y=prox_grad]{\rat};
\addplot table[x=m, y=prox_newton]{\rat};
\addplot table[x=m, y=concomitant]{\rat};
\addplot table[x=m, y=irls_sqrt]{\rat};
\addplot table[x=m, y=irls_sigma]{\rat};
%\addplot[Green, thick,line width=1pt] table[x=noise, y=block]{\rat};
%\addplot[Green, dashed, mark = square*, mark size=2pt, thick,line width=1pt] table[x=noise, y=block_adapt]{\rat};
%\addplot[Orange,thick,line width=1pt] table[x=noise, y=log]{\rat};
%\addplot[Orange, dashed,thick, mark = square*, mark size=2pt , line width=1pt] table[x=noise, y=log_adapt]{\rat};
\legend{
ITEM,
Proximal Gradient,
Proximal Newton,
Concomitant LASSO,
IRLS(sqrt),
IRLS($\sigma$),
}
\end{axis}
\end{tikzpicture}

\begin{tikzpicture}[scale=0.8]
\pgfplotstableread[col sep=space]{oversampling_ratio2.csv}{\rat}
\begin{axis}[ 
cycle list/Dark2,
cycle from colormap manual style,
%width = 100mm,
xlabel={Number of samples, $m$},
ylabel={Support recovery failure ratio ($2s$)},
%y tick label style={ yshift = { \ifthenelse{\ticknum==0}{-0.5em}{0em}} }, %{yshift={ -0.5em}},
%xmin = -15,
%xmax = 90,
ymin = -0.05,
ymax=0.6,
mark size=1.0pt,
%legend style={at={(1.05,0.95)},anchor= north west ,font=\fontsize{8}{8}\selectfont},
legend style={at={(0.98,0.98)},anchor= north east ,font=\fontsize{8}{8}\selectfont},
legend cell align={left},
legend columns=1
]
\addplot table[x=m, y=ITEM]{\rat};
\addplot table[x=m, y=prox_grad]{\rat};
\addplot table[x=m, y=prox_newton]{\rat};
\addplot table[x=m, y=concomitant]{\rat};
\addplot table[x=m, y=irls_sqrt]{\rat};
\addplot table[x=m, y=irls_sigma]{\rat};
%\addplot[Green, thick,line width=1pt] table[x=noise, y=block]{\rat};
%\addplot[Green, dashed, mark = square*, mark size=2pt, thick,line width=1pt] table[x=noise, y=block_adapt]{\rat};
%\addplot[Orange,thick,line width=1pt] table[x=noise, y=log]{\rat};
%\addplot[Orange, dashed,thick, mark = square*, mark size=2pt , line width=1pt] table[x=noise, y=log_adapt]{\rat};
\legend{
ITEM,
Proximal Gradient,
Proximal Newton,
Concomitant LASSO,
IRLS(sqrt),
IRLS($\sigma$),
}
\end{axis}
\end{tikzpicture}


\end{document}
